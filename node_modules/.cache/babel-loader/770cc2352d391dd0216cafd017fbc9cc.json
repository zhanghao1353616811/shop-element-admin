{"remainingRequest":"E:\\shop-element-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\shop-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shop-element-admin\\src\\views\\shop\\goods\\create.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\shop-element-admin\\src\\views\\shop\\goods\\create.vue","mtime":1629862204967},{"path":"E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shop-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shop-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovc2hvcC1lbGVtZW50LWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBiYXNlQ3JlYXRlIGZyb20gIkAvY29tcG9uZW50cy9zaG9wL2NyZWF0ZS9iYXNlLWNyZWF0ZS52dWUiOwppbXBvcnQgc2luZ2xlQXR0cnMgZnJvbSAiQC9jb21wb25lbnRzL3Nob3AvY3JlYXRlL3NpbmdsZS1hdHRycy52dWUiOwppbXBvcnQgc2t1Q2FyZCBmcm9tICJAL2NvbXBvbmVudHMvc2hvcC9jcmVhdGUvc2t1L3NrdS1jYXJkLnZ1ZSI7CmltcG9ydCBza3VUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvc2hvcC9jcmVhdGUvc2t1LXRhYmxlLnZ1ZSI7CmltcG9ydCB0aW55bWNlIGZyb20gIkAvY29tcG9uZW50cy9jb21tb24vdGlueW1jZS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgYmFzZUNyZWF0ZTogYmFzZUNyZWF0ZSwKICAgIHNpbmdsZUF0dHJzOiBzaW5nbGVBdHRycywKICAgIHNrdUNhcmQ6IHNrdUNhcmQsCiAgICBza3VUYWJsZTogc2t1VGFibGUsCiAgICB0aW55bWNlOiB0aW55bWNlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlSW5kZXg6IDAsCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICBzZXRTa3VzS2V5OiAiIiwKICAgICAgcGxhY2Vob2xkZXJOYW1lOiAiIiwKICAgICAgc2V0U2t1c1ZhbDogIiIsCiAgICAgIHNldFNrdUFsbFN0YXR1czogZmFsc2UsCiAgICAgIHNldFNrdUxpc3Q6IFt7CiAgICAgICAgbmFtZTogIumUgOWUruS7tyIsCiAgICAgICAga2V5OiAic2FsZVByaWNlIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIuW4guWcuuS7tyIsCiAgICAgICAga2V5OiAibWFya1ByaWNlIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIuaIkOacrOS7tyIsCiAgICAgICAga2V5OiAiY29zdFByaWNlIgogICAgICB9LCB7CiAgICAgICAgbmFtZTogIuW6k+WtmCIsCiAgICAgICAga2V5OiAic3RvY2siCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAi5L2T56evIiwKICAgICAgICBrZXk6ICJ2b2x1bWUiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAi6YeN6YePIiwKICAgICAgICBrZXk6ICJ3ZWlnaHQiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgc2t1VHlwZTogZnVuY3Rpb24gc2t1VHlwZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZ29vZHNfY3JlYXRlLnNrdVR5cGU7CiAgICB9LAogICAgLy8g57uf5LiA6KeE5qC85oiW5aSa6KeE5qC8CiAgICBza3VDYXJkOiBmdW5jdGlvbiBza3VDYXJkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5nb29kc19jcmVhdGUuc2t1Q2FyZDsKICAgIH0KICB9KSksIHt9LCB7CiAgICBza3VDYXJkTGVuZ3RoOiBmdW5jdGlvbiBza3VDYXJkTGVuZ3RoKCkgewogICAgICByZXR1cm4gdGhpcy5za3VDYXJkLmxlbmd0aDsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbInZNb2RlbFN0YXRlIiwgImFkZFNrdUNhcmQiXSkpLCB7fSwgewogICAgLy8g5L+u5pS56KGo5Y2V55qE5YC8CiAgICB2TW9kZWw6IGZ1bmN0aW9uIHZNb2RlbChrZXksIHZhbHVlKSB7CiAgICAgIHRoaXMudk1vZGVsU3RhdGUoewogICAgICAgIGtleToga2V5LAogICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICB9KTsKICAgIH0sCiAgICAvLyDpvKDmoIfljZXlh7vnmoTkuovku7Yg5a+M5paH5pys57yW6L6R5ZmoCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUsIGVkaXRvcikgewogICAgICBjb25zb2xlLmxvZygiRWxlbWVudCBjbGlja2VkIik7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICBjb25zb2xlLmxvZyhlZGl0b3IpOwogICAgfSwKICAgIG9wZW5TZXRTa3VzOiBmdW5jdGlvbiBvcGVuU2V0U2t1cyhpdGVtKSB7CiAgICAgIHRoaXMuc2V0U2t1QWxsU3RhdHVzID0gdHJ1ZTsKICAgICAgdGhpcy5zZXRTa3VzS2V5ID0gaXRlbS5rZXk7CiAgICAgIHRoaXMucGxhY2Vob2xkZXJOYW1lID0gaXRlbS5uYW1lOwogICAgfSwKICAgIHNldFNrdVN0YXR1czogZnVuY3Rpb24gc2V0U2t1U3RhdHVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5za3VzVGFibGUudGFibGVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtW190aGlzLnNldFNrdXNLZXldID0gX3RoaXMuc2V0U2t1c1ZhbDsKICAgICAgfSk7CiAgICAgIHRoaXMuY2FuY2VsU2V0U3RhdHVzKCk7CiAgICB9LAogICAgY2FuY2VsU2V0U3RhdHVzOiBmdW5jdGlvbiBjYW5jZWxTZXRTdGF0dXMoKSB7CiAgICAgIHRoaXMuc2V0U2t1QWxsU3RhdHVzID0gZmFsc2U7CiAgICAgIHRoaXMuc2V0U2t1c1ZhbCA9ICIiOwogICAgfQogIH0pCn07"},{"version":3,"sources":["create.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"create-page\">\r\n    <router-link class=\"back-btn\" :to=\"{name: 'shop_goods_list'}\">\r\n      <el-button icon=\"el-icon-arrow-left\" size=\"mini\" plain>回到商品列表</el-button>\r\n    </router-link>\r\n    <el-tabs v-model=\"activeIndex\">\r\n      <el-tab-pane label=\"基础设置\">\r\n        <base-create></base-create>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"商品规格\">\r\n        <el-form label-width=\"70px\">\r\n          <el-form-item label=\"商品规格\">\r\n            <el-radio-group :value=\"skuType\" @input=\"vModel('skuType', $event)\">\r\n              <el-radio-button :label=\"0\">统一规格</el-radio-button>\r\n              <el-radio-button :label=\"1\">多规格</el-radio-button>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n        <!-- 单规格 -->\r\n        <template v-if=\"skuType === 0\">\r\n          <single-attrs></single-attrs>\r\n        </template>\r\n        <!-- 多规格 -->\r\n        <template v-else>\r\n          <el-form label-width=\"70px\">\r\n            <el-form-item label=\"添加规格\">\r\n              <sku-card v-for=\"(item, index) in skuCard\" :key=\"index\" :item=\"item\" :index=\"index\" :skuCardLength=\"skuCardLength\"></sku-card>\r\n              <el-button type=\"success\" size=\"mini\" @click=\"addSkuCard\">添加规格</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-form label-width=\"70px\">\r\n            <el-form-item label=\"批量设置\">\r\n              <template v-if=\"!setSkuAllStatus\">\r\n                <el-button type=\"text\" v-for=\"(item,index) in setSkuList\" :key=\"index\" @click=\"openSetSkus(item)\">{{item.name}}</el-button>\r\n              </template>\r\n              <template v-else>\r\n                <el-input-number class=\"ipt-number\" v-model=\"setSkusVal\" size=\"small\" controls-position=\"right\" :placeholder=\"placeholderName\"></el-input-number>\r\n                <el-button class=\"set-btn\" size=\"small\" @click=\"setSkuStatus\">设置</el-button>\r\n                <el-button size=\"small\" @click=\"cancelSetStatus\">取消</el-button>\r\n              </template>\r\n            </el-form-item>\r\n            <el-form-item label=\"规格设置\">\r\n              <sku-table ref=\"skusTable\"></sku-table>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"商品属性\">商品属性</el-tab-pane>\r\n      <el-tab-pane label=\"媒体设置\">媒体设置</el-tab-pane>\r\n      <el-tab-pane label=\"商品详情\">\r\n        <tinymce ref=\"editor\" v-model=\"content\" @onClick=\"onClick\" />\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"折扣设置\">折扣设置</el-tab-pane>\r\n    </el-tabs>\r\n    <div class=\"btn-fixed\">\r\n      <el-button type=\"success\">保存</el-button>\r\n      <el-button class=\"btn-cancel\" type=\"info\">取消</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport baseCreate from \"@/components/shop/create/base-create.vue\";\r\nimport singleAttrs from \"@/components/shop/create/single-attrs.vue\";\r\nimport skuCard from \"@/components/shop/create/sku/sku-card.vue\";\r\nimport skuTable from \"@/components/shop/create/sku-table.vue\";\r\nimport tinymce from \"@/components/common/tinymce.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    baseCreate,\r\n    singleAttrs,\r\n    skuCard,\r\n    skuTable,\r\n    tinymce,\r\n  },\r\n  data() {\r\n    return {\r\n      activeIndex: 0,\r\n      content: \"\",\r\n      setSkusKey: \"\",\r\n      placeholderName: \"\",\r\n      setSkusVal: \"\",\r\n      setSkuAllStatus: false,\r\n      setSkuList: [\r\n        {\r\n          name: \"销售价\",\r\n          key: \"salePrice\",\r\n        },\r\n        {\r\n          name: \"市场价\",\r\n          key: \"markPrice\",\r\n        },\r\n        {\r\n          name: \"成本价\",\r\n          key: \"costPrice\",\r\n        },\r\n        {\r\n          name: \"库存\",\r\n          key: \"stock\",\r\n        },\r\n        {\r\n          name: \"体积\",\r\n          key: \"volume\",\r\n        },\r\n        {\r\n          name: \"重量\",\r\n          key: \"weight\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      skuType: (state) => state.goods_create.skuType, // 统一规格或多规格\r\n      skuCard: (state) => state.goods_create.skuCard,\r\n    }),\r\n    skuCardLength() {\r\n      return this.skuCard.length;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"vModelState\", \"addSkuCard\"]),\r\n    // 修改表单的值\r\n    vModel(key, value) {\r\n      this.vModelState({ key, value });\r\n    },\r\n    // 鼠标单击的事件 富文本编辑器\r\n    onClick(e, editor) {\r\n      console.log(\"Element clicked\");\r\n      console.log(e);\r\n      console.log(editor);\r\n    },\r\n\r\n    openSetSkus(item) {\r\n      this.setSkuAllStatus = true;\r\n      this.setSkusKey = item.key;\r\n      this.placeholderName = item.name;\r\n    },\r\n\r\n    setSkuStatus() {\r\n      this.$refs.skusTable.tableList.forEach((item) => {\r\n        item[this.setSkusKey] = this.setSkusVal;\r\n      });\r\n      this.cancelSetStatus();\r\n    },\r\n\r\n    cancelSetStatus() {\r\n      this.setSkuAllStatus = false;\r\n      this.setSkusVal = \"\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.create-page {\r\n  padding-bottom: 130px;\r\n}\r\n.crete-page {\r\n  position: relative;\r\n}\r\n.back-btn {\r\n  position: absolute;\r\n  left: 180px;\r\n  top: 13px;\r\n}\r\n.form-input {\r\n  width: 40%;\r\n}\r\n.btn-fixed {\r\n  position: fixed;\r\n  display: flex;\r\n  flex-direction: column;\r\n  bottom: 0;\r\n  right: 20px;\r\n  .btn-cancel {\r\n    margin: 10px 0px 10px 0;\r\n  }\r\n}\r\n.ipt-number {\r\n  width: 132px;\r\n}\r\n.set-btn {\r\n  margin-left: 10px;\r\n}\r\n</style>"],"sourceRoot":"src/views/shop/goods"}]}