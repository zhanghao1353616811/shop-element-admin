{"remainingRequest":"E:\\shop-element-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\shop-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shop-element-admin\\src\\components\\common\\tinymce.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\shop-element-admin\\src\\components\\common\\tinymce.vue","mtime":1629861904796},{"path":"E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shop-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shop-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB0aW55bWNlIGZyb20gInRpbnltY2UvdGlueW1jZSI7IC8vIOW8leWFpXRpbnltY2XkuLvku7Yg6buY6K6kaGlkZGVu77yM5LiN5byV5YWl5LiN5pi+56S6CgppbXBvcnQgRWRpdG9yIGZyb20gIkB0aW55bWNlL3RpbnltY2UtdnVlIjsgLy8g5byV5YWldGlueW1jZS12dWXnu4Tku7YKCmltcG9ydCAidGlueW1jZS90aGVtZXMvc2lsdmVyIjsgLy8g5b+F6aG75byV5YWl5Li75L2T5omN6IO95rGJ5YyW5ZKM5pi+56S6CgppbXBvcnQgInRpbnltY2UvaWNvbnMvZGVmYXVsdC9pY29ucyI7IC8vIOe8lui+keWZqOaPkuS7tnBsdWdpbnMKLy8g5pu05aSa5o+S5Lu25Y+C6ICD77yaaHR0cHM6Ly93d3cudGlueS5jbG91ZC9kb2NzL3BsdWdpbnMvCgppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9pbWFnZSI7IC8vIOW8leWFpeS4iuS8oOWbvueJh+aPkuS7tgoKaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvbWVkaWEiOyAvLyDlvJXlhaXop4bpopHmj5Lku7YKCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL3RhYmxlIjsgLy8g5byV5YWl6KGo5qC85o+S5Lu2CgppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9saXN0cyI7IC8vIOW8leWFpeWIl+ihqOaPkuS7tgoKaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvd29yZGNvdW50IjsgLy8g5byV5YWl5a2X5pWw57uf6K6h5o+S5Lu2CgpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbImFwcCJdLAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvcjogRWRpdG9yCiAgfSwKICBuYW1lOiAidGlueW1jZSIsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBsdWdpbnM6IHsKICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLAogICAgICBkZWZhdWx0OiAibGlzdHMgaW1hZ2UgbWVkaWEgdGFibGUgd29yZGNvdW50IgogICAgfSwKICAgIHRvb2xiYXI6IHsKICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLAogICAgICBkZWZhdWx0OiAidW5kbyByZWRvIHwgIGZvcm1hdHNlbGVjdCB8IGJvbGQgaXRhbGljIGZvcmVjb2xvciBiYWNrY29sb3IgfCBhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBhbGlnbmp1c3RpZnkgfCBidWxsaXN0IG51bWxpc3Qgb3V0ZGVudCBpbmRlbnQgfCBsaXN0cyBpbWFnZSBtZWRpYSB0YWJsZSB8IHJlbW92ZWZvcm1hdCIKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIGluaXQ6IHsKICAgICAgICBsYW5ndWFnZV91cmw6ICIvdGlueW1jZS9sYW5ncy96aF9DTi5qcyIsCiAgICAgICAgbGFuZ3VhZ2U6ICJ6aF9DTiIsCiAgICAgICAgc2tpbl91cmw6ICIvdGlueW1jZS9za2lucy91aS9veGlkZSIsCiAgICAgICAgLy8gc2tpbl91cmw6ICd0aW55bWNlL3NraW5zL3VpL294aWRlLWRhcmsnLC8v5pqX6Imy57O7CiAgICAgICAgaGVpZ2h0OiA1MDAsCiAgICAgICAgcGx1Z2luczogdGhpcy5wbHVnaW5zLAogICAgICAgIHRvb2xiYXI6IHRoaXMudG9vbGJhciwKICAgICAgICBicmFuZGluZzogZmFsc2UsCiAgICAgICAgbWVudWJhcjogZmFsc2UsCiAgICAgICAgLy8g5q2k5aSE5Li65Zu+54mH5LiK5Lyg5aSE55CG5Ye95pWw77yM6L+Z5Liq55u05o6l55So5LqGYmFzZTY055qE5Zu+54mH5b2i5byP5LiK5Lyg5Zu+54mH77yMCiAgICAgICAgLy8g5aaC6ZyAYWpheOS4iuS8oOWPr+WPguiAg2h0dHBzOi8vd3d3LnRpbnkuY2xvdWQvZG9jcy9jb25maWd1cmUvZmlsZS1pbWFnZS11cGxvYWQvI2ltYWdlc191cGxvYWRfaGFuZGxlcgogICAgICAgIGltYWdlc191cGxvYWRfaGFuZGxlcjogZnVuY3Rpb24gaW1hZ2VzX3VwbG9hZF9oYW5kbGVyKGJsb2JJbmZvLCBzdWNjZXNzLCBmYWlsdXJlKSB7CiAgICAgICAgICB2YXIgaW1nID0gImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIiArIGJsb2JJbmZvLmJhc2U2NCgpOwogICAgICAgICAgc3VjY2VzcyhpbWcpOwogICAgICAgIH0sCiAgICAgICAgLy8g6Ieq5a6a5LmJ5oyJ6ZKuCiAgICAgICAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKGVkaXRvcikgewogICAgICAgICAgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZEJ1dHRvbigiaW1hZ2VVcGxvYWQiLCB7CiAgICAgICAgICAgIHRvb2x0aXA6ICLmj5LlhaXlm77niYciLAogICAgICAgICAgICBpY29uOiAiaW1hZ2UiLAogICAgICAgICAgICBvbkFjdGlvbjogZnVuY3Rpb24gb25BY3Rpb24oKSB7CiAgICAgICAgICAgICAgX3RoaXMuYXBwLmNob29zZUltYWdlKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAvLyDmj5LlhaXliLDnvJbovpHlmajkuK0KICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0Q29udGVudCgiJm5ic3A7PGltZyBzcmM9XCIiLmNvbmNhdChpdGVtLnVybCwgIlwiPiZuYnNwOyIpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbXlWYWx1ZTogdGhpcy52YWx1ZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aW55bWNlLmluaXQoe30pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5re75Yqg55u45YWz55qE5LqL5Lu277yM5Y+v55So55qE5LqL5Lu25Y+C54Wn5paH5qGjPT4gaHR0cHM6Ly9naXRodWIuY29tL3RpbnltY2UvdGlueW1jZS12dWUgPT4gQWxsIGF2YWlsYWJsZSBldmVudHMKICAgIC8vIOmcgOimgeS7gOS5iOS6i+S7tuWPr+S7peiHquW3seWinuWKoAogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7CiAgICAgIHRoaXMuJGVtaXQoIm9uQ2xpY2siLCBlLCB0aW55bWNlKTsKICAgIH0sCiAgICAvLyDlj6/ku6Xmt7vliqDkuIDkupvoh6rlt7HnmoToh6rlrprkuYnkuovku7bvvIzlpoLmuIXnqbrlhoXlrrkKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy5teVZhbHVlID0gIiI7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMubXlWYWx1ZSA9IG5ld1ZhbHVlOwogICAgfSwKICAgIG15VmFsdWU6IGZ1bmN0aW9uIG15VmFsdWUobmV3VmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBuZXdWYWx1ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["tinymce.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"tinymce-box\">\r\n    <editor v-model=\"myValue\" :init=\"init\" :disabled=\"disabled\" @onClick=\"onClick\"></editor>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tinymce from \"tinymce/tinymce\"; // 引入tinymce主件 默认hidden，不引入不显示\r\nimport Editor from \"@tinymce/tinymce-vue\"; // 引入tinymce-vue组件\r\nimport \"tinymce/themes/silver\"; // 必须引入主体才能汉化和显示\r\nimport \"tinymce/icons/default/icons\";\r\n// 编辑器插件plugins\r\n// 更多插件参考：https://www.tiny.cloud/docs/plugins/\r\nimport \"tinymce/plugins/image\"; // 引入上传图片插件\r\nimport \"tinymce/plugins/media\"; // 引入视频插件\r\nimport \"tinymce/plugins/table\"; // 引入表格插件\r\nimport \"tinymce/plugins/lists\"; // 引入列表插件\r\nimport \"tinymce/plugins/wordcount\"; // 引入字数统计插件\r\n\r\nexport default {\r\n  inject: [\"app\"],\r\n  components: {\r\n    Editor,\r\n  },\r\n  name: \"tinymce\",\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    plugins: {\r\n      type: [String, Array],\r\n      default: \"lists image media table wordcount\",\r\n    },\r\n    toolbar: {\r\n      type: [String, Array],\r\n      default:\r\n        \"undo redo |  formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      init: {\r\n        language_url: \"/tinymce/langs/zh_CN.js\",\r\n        language: \"zh_CN\",\r\n        skin_url: \"/tinymce/skins/ui/oxide\",\r\n        // skin_url: 'tinymce/skins/ui/oxide-dark',//暗色系\r\n        height: 500,\r\n        plugins: this.plugins,\r\n        toolbar: this.toolbar,\r\n        branding: false,\r\n        menubar: false,\r\n        // 此处为图片上传处理函数，这个直接用了base64的图片形式上传图片，\r\n        // 如需ajax上传可参考https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_handler\r\n        images_upload_handler: (blobInfo, success, failure) => {\r\n          const img = \"data:image/jpeg;base64,\" + blobInfo.base64();\r\n          success(img);\r\n        },\r\n        // 自定义按钮\r\n        setup: (editor) => {\r\n          editor.ui.registry.addButton(\"imageUpload\", {\r\n            tooltip: \"插入图片\",\r\n            icon: \"image\",\r\n            onAction: () => {\r\n              this.app.chooseImage((data) => {\r\n                // 插入到编辑器中\r\n                data.forEach((item) => {\r\n                  editor.insertContent(`&nbsp;<img src=\"${item.url}\">&nbsp;`);\r\n                });\r\n              }, 100);\r\n            },\r\n          });\r\n        },\r\n      },\r\n      myValue: this.value,\r\n    };\r\n  },\r\n  mounted() {\r\n    tinymce.init({});\r\n  },\r\n  methods: {\r\n    // 添加相关的事件，可用的事件参照文档=> https://github.com/tinymce/tinymce-vue => All available events\r\n    // 需要什么事件可以自己增加\r\n    onClick(e) {\r\n      this.$emit(\"onClick\", e, tinymce);\r\n    },\r\n    // 可以添加一些自己的自定义事件，如清空内容\r\n    clear() {\r\n      this.myValue = \"\";\r\n    },\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      this.myValue = newValue;\r\n    },\r\n    myValue(newValue) {\r\n      this.$emit(\"input\", newValue);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components/common"}]}