{"remainingRequest":"E:\\shop-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\shop-element-admin\\src\\components\\common\\tinymce.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\shop-element-admin\\src\\components\\common\\tinymce.vue","mtime":1628254526922},{"path":"E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shop-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\shop-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shop-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdGlueW1jZSBmcm9tICJ0aW55bWNlL3RpbnltY2UiOyAvLyDlvJXlhaV0aW55bWNl5Li75Lu2IOm7mOiupGhpZGRlbu+8jOS4jeW8leWFpeS4jeaYvuekug0KaW1wb3J0IEVkaXRvciBmcm9tICJAdGlueW1jZS90aW55bWNlLXZ1ZSI7IC8vIOW8leWFpXRpbnltY2UtdnVl57uE5Lu2DQppbXBvcnQgInRpbnltY2UvdGhlbWVzL3NpbHZlciI7DQovLyDnvJbovpHlmajmj5Lku7ZwbHVnaW5zDQovLyDmm7TlpJrmj5Lku7blj4LogIPvvJpodHRwczovL3d3dy50aW55LmNsb3VkL2RvY3MvcGx1Z2lucy8NCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2ltYWdlIjsgLy8g5o+S5YWl5LiK5Lyg5Zu+54mH5o+S5Lu2DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9tZWRpYSI7IC8vIOaPkuWFpeinhumikeaPkuS7tg0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvdGFibGUiOyAvLyDmj5LlhaXooajmoLzmj5Lku7YNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2xpc3RzIjsgLy8g5YiX6KGo5o+S5Lu2DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy93b3JkY291bnQiOyAvLyDlrZfmlbDnu5/orqHmj5Lku7YNCmltcG9ydCAndGlueW1jZS9pY29ucy9kZWZhdWx0L2ljb25zJzsgLy8gDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgaW5qZWN0OiBbImFwcCJdLA0KICBjb21wb25lbnRzOiB7DQogICAgRWRpdG9yLA0KICB9LA0KICBuYW1lOiAidGlueW1jZSIsDQogIHByb3BzOiB7DQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIiLA0KICAgIH0sDQogICAgZGlzYWJsZWQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIHBsdWdpbnM6IHsNCiAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5XSwNCiAgICAgIGRlZmF1bHQ6ICJsaXN0cyBpbWFnZSBtZWRpYSB0YWJsZSB3b3JkY291bnQiLA0KICAgIH0sDQogICAgdG9vbGJhcjogew0KICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLA0KICAgICAgZGVmYXVsdDoNCiAgICAgICAgInVuZG8gcmVkbyB8ICBmb3JtYXRzZWxlY3QgfCBib2xkIGl0YWxpYyBmb3JlY29sb3IgYmFja2NvbG9yIHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IHwgYnVsbGlzdCBudW1saXN0IG91dGRlbnQgaW5kZW50IHwgbGlzdHMgaW1hZ2UgbWVkaWEgdGFibGUgfCByZW1vdmVmb3JtYXQiLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGluaXQ6IHsNCiAgICAgICAgbGFuZ3VhZ2VfdXJsOiAiL3RpbnltY2UvbGFuZ3MvemhfQ04uanMiLA0KICAgICAgICBsYW5ndWFnZTogInpoX0NOIiwNCiAgICAgICAgc2tpbl91cmw6ICIvdGlueW1jZS9za2lucy91aS9veGlkZSIsDQogICAgICAgIC8vIHNraW5fdXJsOiAndGlueW1jZS9za2lucy91aS9veGlkZS1kYXJrJywvL+aal+iJsuezuw0KICAgICAgICBoZWlnaHQ6IDUwMCwNCiAgICAgICAgcGx1Z2luczogdGhpcy5wbHVnaW5zLA0KICAgICAgICB0b29sYmFyOiB0aGlzLnRvb2xiYXIsDQogICAgICAgIGJyYW5kaW5nOiBmYWxzZSwNCiAgICAgICAgbWVudWJhcjogZmFsc2UsDQogICAgICAgIC8vIOatpOWkhOS4uuWbvueJh+S4iuS8oOWkhOeQhuWHveaVsO+8jOi/meS4quebtOaOpeeUqOS6hmJhc2U2NOeahOWbvueJh+W9ouW8j+S4iuS8oOWbvueJh++8jA0KICAgICAgICAvLyDlpoLpnIBhamF45LiK5Lyg5Y+v5Y+C6ICDaHR0cHM6Ly93d3cudGlueS5jbG91ZC9kb2NzL2NvbmZpZ3VyZS9maWxlLWltYWdlLXVwbG9hZC8jaW1hZ2VzX3VwbG9hZF9oYW5kbGVyDQogICAgICAgIGltYWdlc191cGxvYWRfaGFuZGxlcjogKGJsb2JJbmZvLCBzdWNjZXNzLCBmYWlsdXJlKSA9PiB7DQogICAgICAgICAgY29uc3QgaW1nID0gImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIiArIGJsb2JJbmZvLmJhc2U2NCgpOw0KICAgICAgICAgIHN1Y2Nlc3MoaW1nKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6Ieq5a6a5LmJ5oyJ6ZKuDQogICAgICAgIHNldHVwOiAoZWRpdG9yKSA9PiB7DQogICAgICAgICAgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZEJ1dHRvbigiaW1hZ2VVcGxvYWQiLCB7DQogICAgICAgICAgICB0b29sdGlwOiAi5o+S5YWl5Zu+54mHIiwNCiAgICAgICAgICAgIGljb246ICJpbWFnZSIsDQogICAgICAgICAgICBvbkFjdGlvbjogKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLmFwcC5jaG9vc2VJbWFnZSgoZGF0YSkgPT4gew0KICAgICAgICAgICAgICAgIC8vIOaPkuWFpeWIsOe8lui+keWZqOS4rQ0KICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydENvbnRlbnQoYCZuYnNwOzxpbWcgc3JjPSIke2l0ZW0udXJsfSI+Jm5ic3A7YCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIH0sIDEwMCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgfSwNCiAgICAgIG15VmFsdWU6IHRoaXMudmFsdWUsDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aW55bWNlLmluaXQoe30pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g5re75Yqg55u45YWz55qE5LqL5Lu277yM5Y+v55So55qE5LqL5Lu25Y+C54Wn5paH5qGjPT4gaHR0cHM6Ly9naXRodWIuY29tL3RpbnltY2UvdGlueW1jZS12dWUgPT4gQWxsIGF2YWlsYWJsZSBldmVudHMNCiAgICAvLyDpnIDopoHku4DkuYjkuovku7blj6/ku6Xoh6rlt7Hlop7liqANCiAgICBvbkNsaWNrKGUpIHsNCiAgICAgIHRoaXMuJGVtaXQoIm9uQ2xpY2siLCBlLCB0aW55bWNlKTsNCiAgICB9LA0KICAgIC8vIOWPr+S7pea3u+WKoOS4gOS6m+iHquW3seeahOiHquWumuS5ieS6i+S7tu+8jOWmgua4heepuuWGheWuuQ0KICAgIGNsZWFyKCkgew0KICAgICAgdGhpcy5teVZhbHVlID0gIiI7DQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZShuZXdWYWx1ZSkgew0KICAgICAgdGhpcy5teVZhbHVlID0gbmV3VmFsdWU7DQogICAgfSwNCiAgICBteVZhbHVlKG5ld1ZhbHVlKSB7DQogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIG5ld1ZhbHVlKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["tinymce.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tinymce.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n  <div class=\"tinymce-box\">\r\n    <editor v-model=\"myValue\" :init=\"init\" :disabled=\"disabled\" @onClick=\"onClick\">\r\n    </editor>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tinymce from \"tinymce/tinymce\"; // 引入tinymce主件 默认hidden，不引入不显示\r\nimport Editor from \"@tinymce/tinymce-vue\"; // 引入tinymce-vue组件\r\nimport \"tinymce/themes/silver\";\r\n// 编辑器插件plugins\r\n// 更多插件参考：https://www.tiny.cloud/docs/plugins/\r\nimport \"tinymce/plugins/image\"; // 插入上传图片插件\r\nimport \"tinymce/plugins/media\"; // 插入视频插件\r\nimport \"tinymce/plugins/table\"; // 插入表格插件\r\nimport \"tinymce/plugins/lists\"; // 列表插件\r\nimport \"tinymce/plugins/wordcount\"; // 字数统计插件\r\nimport 'tinymce/icons/default/icons'; // \r\n\r\nexport default {\r\n  inject: [\"app\"],\r\n  components: {\r\n    Editor,\r\n  },\r\n  name: \"tinymce\",\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    plugins: {\r\n      type: [String, Array],\r\n      default: \"lists image media table wordcount\",\r\n    },\r\n    toolbar: {\r\n      type: [String, Array],\r\n      default:\r\n        \"undo redo |  formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      init: {\r\n        language_url: \"/tinymce/langs/zh_CN.js\",\r\n        language: \"zh_CN\",\r\n        skin_url: \"/tinymce/skins/ui/oxide\",\r\n        // skin_url: 'tinymce/skins/ui/oxide-dark',//暗色系\r\n        height: 500,\r\n        plugins: this.plugins,\r\n        toolbar: this.toolbar,\r\n        branding: false,\r\n        menubar: false,\r\n        // 此处为图片上传处理函数，这个直接用了base64的图片形式上传图片，\r\n        // 如需ajax上传可参考https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_handler\r\n        images_upload_handler: (blobInfo, success, failure) => {\r\n          const img = \"data:image/jpeg;base64,\" + blobInfo.base64();\r\n          success(img);\r\n        },\r\n        // 自定义按钮\r\n        setup: (editor) => {\r\n          editor.ui.registry.addButton(\"imageUpload\", {\r\n            tooltip: \"插入图片\",\r\n            icon: \"image\",\r\n            onAction: () => {\r\n              this.app.chooseImage((data) => {\r\n                // 插入到编辑器中\r\n                data.forEach((item) => {\r\n                  editor.insertContent(`&nbsp;<img src=\"${item.url}\">&nbsp;`);\r\n                });\r\n              }, 100);\r\n            },\r\n          });\r\n        },\r\n      },\r\n      myValue: this.value,\r\n    };\r\n  },\r\n  mounted() {\r\n    tinymce.init({});\r\n  },\r\n  methods: {\r\n    // 添加相关的事件，可用的事件参照文档=> https://github.com/tinymce/tinymce-vue => All available events\r\n    // 需要什么事件可以自己增加\r\n    onClick(e) {\r\n      this.$emit(\"onClick\", e, tinymce);\r\n    },\r\n    // 可以添加一些自己的自定义事件，如清空内容\r\n    clear() {\r\n      this.myValue = \"\";\r\n    },\r\n  },\r\n  watch: {\r\n    value(newValue) {\r\n      this.myValue = newValue;\r\n    },\r\n    myValue(newValue) {\r\n      this.$emit(\"input\", newValue);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}